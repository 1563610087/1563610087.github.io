(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{392:function(t,a,n){"use strict";n.r(a);var s=n(42),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"mysql数据库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql数据库"}},[t._v("#")]),t._v(" mysql数据库")]),t._v(" "),n("p",[t._v("MySQL 是最流行的关系型数据库管理系统")]),t._v(" "),n("h2",{attrs:{id:"_1-安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装"}},[t._v("#")]),t._v(" 1 安装")]),t._v(" "),n("h3",{attrs:{id:"_1-1-下载安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-下载安装"}},[t._v("#")]),t._v(" 1.1 下载安装")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("MySQL 的安装同样建议采用解压版（目的是了解那些自动安装过程都做了哪些事）")]),t._v(" "),n("p",[t._v("下载地址"),n("a",{attrs:{href:"https://dev.mysql.com/downloads/mysql/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://dev.mysql.com/downloads/mysql/"),n("OutboundLink")],1)])]),t._v(" "),n("li",[n("p",[t._v("解压到纯英文路径")])]),t._v(" "),n("li",[n("p",[t._v("解压目录添加 my.ini （可选）")])])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("[mysqld]\n# MySQL 安装目录，这里的路径可选\nbasedir=C:/Develop/mysql\n# 数据文件所在目录，这里的路径可选\ndatadir=C:/Develop/mysql/data\n\n\n\n添加my.ini文件内容，这里是配置MySQL文件\n[mysqld]\n# 设置默认字符集，只会影响新建数据库的默认字符集\ncharacter-set-server=utf8\n\n")])])]),n("ol",{attrs:{start:"4"}},[n("li",[t._v("以"),n("strong",[t._v("管理员身份")]),t._v("运行 CMD 执行以下命令，安装一个 MySQL 服务")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("# 定位到安装目录下的 bin 文件夹\n$ cd <MySQL安装目录>/bin\n# 初始化数据所需文件以及获取一个临时的访问密码\n$ mysqld ‐‐initialize ‐‐user=mysql ‐‐console\n# 将 MySQL 安装为服务 可以指定服务名称\n$ mysqld ‐‐install MySQL\n")])])]),n("h3",{attrs:{id:"_1-2-进入数据库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-进入数据库"}},[t._v("#")]),t._v(" 1.2  进入数据库")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("//先要进入数据库的bin目录下\nC:\\Windows\\system32>cd C:\\Develop\\mysql\\bin\n\nC:\\Develop\\mysql\\bin>mysqld --initialize --user=mysql --console\n2017-10-27T07:55:14.689417Z 0 [Warning] TIMESTAMP with implicit DEFAULT value is deprecated. Please use --explicit_defaults_for_timestamp server option (see documentation for more details).\n2017-10-27T07:55:15.021383Z 0 [Warning] InnoDB: New log files created, LSN=45790\n2017-10-27T07:55:15.095580Z 0 [Warning] InnoDB: Creating foreign key constraint system tables.\n2017-10-27T07:55:15.166801Z 0 [Warning] No existing UUID has been found, so we assume that this is the first time that this server has been started. Generating a new UUID: 2ad3e9db-baec-11e7-b1fe-e03f49da4d50.\n2017-10-27T07:55:15.171806Z 0 [Warning] Gtid table is not ready to be used. Table 'mysql.gtid_executed' cannot be opened.\n2017-10-27T07:55:15.175824Z 1 [Note] A temporary password is generated for root@localhost: CsN2toUSm&dF\n\nC:\\Develop\\mysql\\bin>mysqld --install MySQL\nService successfully installed.\n\n//启动数据库\n\nC:\\Develop\\mysql\\bin>net start MySQL\nMySQL 服务正在启动 .\nMySQL 服务已经启动成功。\n\n//进入数据库\nC:\\Develop\\mysql\\bin>mysql -u root -p\nEnter password: ************\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 3\nServer version: 5.7.19\n\nCopyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\n//设置密码  注意：进入数据库之后的mysql命令都要加分号\nmysql> set password for root@localhost = password('123456');\nQuery OK, 0 rows affected, 1 warning (0.00 sec)\n\n//退出数据库\nmysql> exit;\nBye\n\n//登录\nC:\\Develop\\mysql\\bin>mysql -u root -p\nEnter password: ******\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 4\nServer version: 5.7.19 MySQL Community Server (GPL)\n\nCopyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\n//查看数据库\nmysql> show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| information_schema |\n| mysql              |\n| performance_schema |\n| sys                |\n+--------------------+\n4 rows in set (0.00 sec)\n\nmysql> exit;\nBye\n\nC:\\Develop\\mysql\\bin>\n\n")])])]),n("h3",{attrs:{id:"_1-3-删除服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-删除服务"}},[t._v("#")]),t._v(" 1.3    删除服务")]),t._v(" "),n("p",[t._v("管理员身份运行cmd，任意目录下执行：")]),t._v(" "),n("p",[t._v("sc  delete  服务名称")]),t._v(" "),n("p",[t._v("然后再删除之前解压存放的文件即可")]),t._v(" "),n("h3",{attrs:{id:"_1-4-启动停止服务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-启动停止服务"}},[t._v("#")]),t._v(" 1.4 启动停止服务")]),t._v(" "),n("p",[t._v("方式一：计算机——右击管理——服务\n方式二：通过管理员身份运行\nnet start 服务名（启动服务）\nnet stop 服务名（停止服务）")]),t._v(" "),n("h2",{attrs:{id:"_2-数据管理工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-数据管理工具"}},[t._v("#")]),t._v(" 2 数据管理工具")]),t._v(" "),n("h3",{attrs:{id:"_2-1-命令行工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-命令行工具"}},[t._v("#")]),t._v(" 2.1 命令行工具")]),t._v(" "),n("p",[t._v("一般如果只是简单操作数据库，推荐使用 MySQL 内置的命令行工具完成：")]),t._v(" "),n("p",[t._v("通过命令行运行解压目录下 bin 目录中的 mysql.exe ：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("# 定位到 bin 目录\n$ cd <解压目录>/bin\n# 运行 mysql，‐u 指定数据库用户名，‐p 指定密码\n$ mysql ‐u root ‐p wanglei\n# 一般不建议在命令中填写密码，因为这样会暴露你的密码，一般只加一个 ‐p 但是不给值\n$ mysql ‐u root ‐p\nEnter password: # 这时会要求你输入密码\n")])])]),n("p",[t._v("进入 MySQL 客户端的 REPL 环境过后，可以通过标准的 SQL 语句操作数据库。\n常见的操作指令：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("mysql> show databases; ‐‐ 显示全部数据库\nmysql> create database <db‐name>; ‐‐ 创建一个指定名称的数据库\nmysql> use <db‐name>; ‐‐ 使用一个数据库，相当于进入指定的数据库\nmysql> show tables; ‐‐ 显示当前数据库中有哪些表\nmysql> create table <table‐name> (id int, name varchar(20), age int); ‐‐ 创建一个指定名称的数据\n表，并添加 3 个列\nmysql> desc <table‐name>; ‐‐ 查看指定表结构\nmysql> source ./path/to/sql‐file.sql ‐‐ 执行本地 SQL 文件中的 SQL 语句\nmysql> drop table <table‐name>; ‐‐ 删除一个指定名称的数据表\nmysql> drop database <db‐name>; ‐‐ 删除一个指定名称的数据库\nmysql> exit|quit; ‐‐ 退出数据库终端\n")])])]),n("p",[t._v("查看服务器的版本\n方式一：登录到mysql服务端\nselect version();\n方式二：没有登录到mysql服务端\nmysql --version\n或\nmysql --V")]),t._v(" "),n("h3",{attrs:{id:"_2-2-可视化管理工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-可视化管理工具"}},[t._v("#")]),t._v(" 2.2 可视化管理工具")]),t._v(" "),n("ul",[n("li",[t._v("如果需要复杂的操作，推荐 Navicat Premium\n下载地址：http://www.navicat.com.cn/download/navicat-premium\n这是一个付费软件，可以免费试用 14 天")]),t._v(" "),n("li",[t._v("mysql workbench")])]),t._v(" "),n("h2",{attrs:{id:"_3-常见命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-常见命令"}},[t._v("#")]),t._v(" 3 常见命令")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("命令")]),t._v(" "),n("th"),t._v(" "),n("th",[t._v("命令")]),t._v(" "),n("th")])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("查看所有数据库")]),t._v(" "),n("td",[t._v("show databases；")]),t._v(" "),n("td",[t._v("打开指定的数据库")]),t._v(" "),n("td",[t._v("use 数据库名；")])]),t._v(" "),n("tr",[n("td",[t._v("查看当前库的所有表")]),t._v(" "),n("td",[t._v("show tables；")]),t._v(" "),n("td",[t._v("查看其它库的所有表")]),t._v(" "),n("td",[t._v("show tables from 库名;")])]),t._v(" "),n("tr",[n("td",[t._v("查看当前处于哪个表")]),t._v(" "),n("td",[t._v("select database();")]),t._v(" "),n("td",[t._v("查看表结构")]),t._v(" "),n("td",[t._v("desc 表明；")])]),t._v(" "),n("tr",[n("td",[t._v("查看数据库版本")]),t._v(" "),n("td",[t._v("select version();")]),t._v(" "),n("td"),t._v(" "),n("td")])])]),t._v(" "),n("h2",{attrs:{id:"_4-sql语句"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-sql语句"}},[t._v("#")]),t._v(" 4 sql语句")]),t._v(" "),n("h3",{attrs:{id:"_4-1-查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-查询"}},[t._v("#")]),t._v(" 4.1 查询")]),t._v(" "),n("h4",{attrs:{id:"_1-基础查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-基础查询"}},[t._v("#")]),t._v(" 1 基础查询")]),t._v(" "),n("p",[t._v("基本结构")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("select\n\t字段列表\nfrom\n\t表名列表\nwhere\n\t条件列表\ngroup by\n\t分组字段\nhaving\n\t分组之后的条件\norder by\n\t排序\nlimit\n\t分页限定\n")])])]),n("p",[t._v("语法：\nselect 查询列表 from 表名;")]),t._v(" "),n("p",[t._v("特点：")]),t._v(" "),n("ul",[n("li",[t._v("查询列表可以是：表中的字段、常量值、表达式、函数")]),t._v(" "),n("li",[t._v("查询的结果是一个虚拟的表格")])]),t._v(" "),n("p",[t._v("1.查询表中的单个字段")]),t._v(" "),n("p",[t._v("SELECT last_name FROM employees;")]),t._v(" "),n("p",[t._v("2.查询表中的多个字段")]),t._v(" "),n("p",[t._v("SELECT last_name,salary,email FROM employees;")]),t._v(" "),n("p",[t._v("3.查询表中的所有字段")]),t._v(" "),n("p",[t._v("SELECT * FROM employees;")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("//如果字段和SQL关键字一样，可以采用``反引号包起来进行区分\n")])])]),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#7.起别名")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n ①便于理解\n ②如果要查询的字段有重名的情况，使用别名可以区分开来 \n */")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#方式一：使用as")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("98")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" 结果"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" last_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" 姓"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("first_name "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" 名 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" employees"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#方式二：使用空格")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" last_name 姓"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("first_name 名 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" employees"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#案例：查询salary，显示结果为 out put")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" salary "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"out put"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" employees"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#8.去重")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#案例：查询员工表中涉及到的所有的部门编号")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DISTINCT")]),t._v(" department_id "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" employees"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#9.字段拼接")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" CONCAT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'c'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" 结果"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" \n\tCONCAT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("last_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("first_name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" 姓名\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v("\n\temployees"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h4",{attrs:{id:"_2-条件查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-条件查询"}},[t._v("#")]),t._v(" 2 条件查询")]),t._v(" "),n("p",[t._v("语法：\nselect\n查询列表\nfrom\n表名\nwhere\n筛选条件;")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("分类：\n一、按条件表达式筛选\n简单条件运算符：> < = != <> >= <=\n\n二、按逻辑表达式筛选\n逻辑运算符：\n作用：用于连接条件表达式\n\t&& || !\n\tand or not\n    \n&&和and：两个条件都为true，结果为true，反之为false\n||或or： 只要有一个条件为true，结果为true，反之为false\n!或not： 如果连接的条件本身为false，结果为true，反之为false\n\n三、模糊查询\n\tlike\n\tbetween and\n\tin\n\tis null\n")])])]),n("p",[t._v("一、按条件表达式筛选")]),t._v(" "),n("p",[t._v("案例1：查询工资>12000的员工信息")]),t._v(" "),n("p",[t._v("SELECT\n*FROM\nemployees\nWHERE\nsalary>12000;")]),t._v(" "),n("p",[t._v("案例2：查询部门编号不等于90号的员工名和部门编号")]),t._v(" "),n("p",[t._v("SELECT\nlast_name,\ndepartment_id\nFROM\nemployees\nWHERE\ndepartment_id<>90;")]),t._v(" "),n("p",[t._v("二、按逻辑表达式筛选")]),t._v(" "),n("p",[t._v("案例1：查询工资z在10000到20000之间的员工名、工资以及奖金")]),t._v(" "),n("p",[t._v("SELECT\nlast_name,\nsalary,\ncommission_pct\nFROM\nemployees\nWHERE\nsalary>=10000 AND salary<=20000;")]),t._v(" "),n("p",[t._v("案例2：查询部门编号不是在90到110之间，或者工资高于15000的员工信息")]),t._v(" "),n("p",[t._v("SELECT\n*\nFROM\nemployees\nWHERE\nNOT(department_id>=90 AND  department_id<=110) OR salary>15000;")]),t._v(" "),n("p",[t._v("三、模糊查询")]),t._v(" "),n("p",[t._v("/*\nlike\t\nbetween and\nin\nis null|is not null")]),t._v(" "),n("p",[t._v("*/")]),t._v(" "),n("p",[n("strong",[t._v("1.like")])]),t._v(" "),n("p",[t._v("/*\n特点：\n①一般和通配符搭配使用\n通配符：\n% 任意多个字符,包含0个字符\n_ 任意单个字符\n*、")]),t._v(" "),n("p",[t._v("案例1：查询员工名中包含字符a的员工信息")]),t._v(" "),n("p",[t._v("select\n*\nfrom\nemployees\nwhere\nlast_name like '%a%';#abc")]),t._v(" "),n("p",[t._v("案例2：查询员工名中第三个字符为e，第五个字符为a的员工名和工资")]),t._v(" "),n("p",[t._v("select\nlast_name,\nsalary\nFROM\nemployees\nWHERE\nlast_name LIKE '__n_l%';")]),t._v(" "),n("p",[t._v("案例3：查询员工名中第二个字符为_的员工名")]),t._v(" "),n("p",[t._v("SELECT\nlast_name\nFROM\nemployees\nWHERE\nlast_name LIKE '"),n("em",[t._v("$")]),t._v("%' ESCAPE '$';")]),t._v(" "),n("p",[t._v("2.between and")]),t._v(" "),n("p",[t._v("/*\n①使用between and 可以提高语句的简洁度\n②包含临界值\n③两个临界值不要调换顺序")]),t._v(" "),n("p",[t._v("*/")]),t._v(" "),n("p",[t._v("案例1：查询员工编号在100到120之间的员工信息")]),t._v(" "),n("p",[t._v("SELECT\n*\nFROM\nemployees\nWHERE\nemployee_id >= 120 AND employee_id<=100；")]),t._v(" "),n("p",[t._v("SELECT\n*\nFROM\nemployees\nWHERE\nemployee_id BETWEEN 120 AND 100;")]),t._v(" "),n("p",[t._v("3.in")]),t._v(" "),n("p",[t._v("/*\n含义：判断某字段的值是否属于in列表中的某一项\n特点：\n①使用in提高语句简洁度\n②in列表的值类型必须一致或兼容\n③in列表中不支持通配符")]),t._v(" "),n("p",[t._v("案例：查询员工的工种编号是 IT_PROG、AD_VP、AD_PRES中的一个员工名和工种编号")]),t._v(" "),n("p",[t._v("SELECT\nlast_name,\njob_id\nFROM\nemployees\nWHERE\njob_id = 'IT_PROT' OR job_id = 'AD_VP' OR JOB_ID ='AD_PRES';")]),t._v(" "),n("p",[t._v("SELECT\nlast_name,\njob_id\nFROM\nemployees\nWHERE\njob_id IN( 'IT_PROT' ,'AD_VP','AD_PRES');")]),t._v(" "),n("p",[t._v("4、is null")]),t._v(" "),n("p",[t._v("/*\n=或<>不能用于判断null值\nis null或is not null 可以判断null值")]),t._v(" "),n("p",[t._v("*/")]),t._v(" "),n("p",[t._v("案例1：查询没有奖金的员工名和奖金率")]),t._v(" "),n("p",[t._v("SELECT\nlast_name,\ncommission_pct\nFROM\nemployees\nWHERE\ncommission_pct IS NULL;")]),t._v(" "),n("p",[t._v("案例1：查询有奖金的员工名和奖金率")]),t._v(" "),n("p",[t._v("SELECT\nlast_name,\ncommission_pct\nFROM\nemployees\nWHERE\ncommission_pct IS NOT NULL;")]),t._v(" "),n("p",[t._v("安全等于  <=>")]),t._v(" "),n("p",[t._v("案例1：查询没有奖金的员工名和奖金率")]),t._v(" "),n("p",[t._v("SELECT\nlast_name,\ncommission_pct\nFROM\nemployees\nWHERE\ncommission_pct <=>NULL;")]),t._v(" "),n("p",[t._v("案例2：查询工资为12000的员工信息")]),t._v(" "),n("p",[t._v("SELECT\nlast_name,\nsalary\nFROM\nemployees")]),t._v(" "),n("p",[t._v("WHERE\nsalary <=> 12000;")]),t._v(" "),n("p",[t._v("is null pk <=>")]),t._v(" "),n("p",[t._v("IS NULL:仅仅可以判断NULL值，可读性较高，建议使用\n<=>    :既可以判断NULL值，又可以判断普通的数值，可读性较低")]),t._v(" "),n("h2",{attrs:{id:"_5-数据库的管理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-数据库的管理"}},[t._v("#")]),t._v(" 5 数据库的管理")]),t._v(" "),n("h3",{attrs:{id:"_5-1-库的创建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-库的创建"}},[t._v("#")]),t._v(" 5.1  库的创建")]),t._v(" "),n("p",[t._v("/*\n语法：\ncreate database  [if not exists]库名;\n*/")]),t._v(" "),n("p",[t._v("案例：创建库Books")]),t._v(" "),n("p",[t._v("CREATE DATABASE IF NOT EXISTS books ;")]),t._v(" "),n("h3",{attrs:{id:"_5-2-库的修改"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-库的修改"}},[t._v("#")]),t._v(" 5.2 库的修改")]),t._v(" "),n("p",[t._v("RENAME DATABASE books TO 新库名;")]),t._v(" "),n("p",[t._v("更改库的字符集")]),t._v(" "),n("p",[t._v("ALTER DATABASE books CHARACTER SET gbk;")]),t._v(" "),n("h3",{attrs:{id:"_5-3-库的删除"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-库的删除"}},[t._v("#")]),t._v(" 5.3 库的删除")]),t._v(" "),n("p",[t._v("DROP DATABASE IF EXISTS books;")]),t._v(" "),n("h2",{attrs:{id:"_6-表的管理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-表的管理"}},[t._v("#")]),t._v(" 6 表的管理")]),t._v(" "),n("h3",{attrs:{id:"_6-1-表的创建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-表的创建"}},[t._v("#")]),t._v(" 6.1 表的创建")]),t._v(" "),n("p",[t._v("/*\n语法：\ncreate table 表名(\n列名 列的类型【(长度) 约束】,\n列名 列的类型【(长度) 约束】,\n列名 列的类型【(长度) 约束】,\n...\n列名 列的类型【(长度) 约束】")]),t._v(" "),n("p",[t._v(")")]),t._v(" "),n("p",[t._v("*/")]),t._v(" "),n("p",[t._v("案例：创建表Book")]),t._v(" "),n("p",[t._v("CREATE TABLE book(\nid INT,#编号\nbName VARCHAR(20),#图书名\nprice DOUBLE,#价格\nauthorId  INT,#作者编号\npublishDate DATETIME#出版日期")]),t._v(" "),n("p",[t._v(");")]),t._v(" "),n("p",[t._v("DESC book;")]),t._v(" "),n("h3",{attrs:{id:"_6-2-表的修改"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-表的修改"}},[t._v("#")]),t._v(" 6.2 表的修改")]),t._v(" "),n("p",[t._v("/*\n语法\nalter table 表名 add|drop|modify|change column 列名 【列类型 约束】;")]),t._v(" "),n("p",[t._v("*/")]),t._v(" "),n("p",[t._v("①修改列名")]),t._v(" "),n("p",[t._v("ALTER TABLE book CHANGE COLUMN publishdate pubDate DATETIME;")]),t._v(" "),n("p",[t._v("②修改列的类型或约束")]),t._v(" "),n("p",[t._v("ALTER TABLE book MODIFY COLUMN pubdate TIMESTAMP;")]),t._v(" "),n("p",[t._v("③添加新列")]),t._v(" "),n("p",[t._v("ALTER TABLE author ADD COLUMN annual DOUBLE;")]),t._v(" "),n("p",[t._v("④删除列")]),t._v(" "),n("p",[t._v("ALTER TABLE book_author DROP COLUMN  annual;")]),t._v(" "),n("p",[t._v("⑤修改表名")]),t._v(" "),n("p",[t._v("ALTER TABLE author RENAME TO book_author;")]),t._v(" "),n("p",[t._v("DESC book;")]),t._v(" "),n("h3",{attrs:{id:"_6-3-表的删除"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-表的删除"}},[t._v("#")]),t._v(" 6.3 表的删除")]),t._v(" "),n("p",[t._v("DROP TABLE IF EXISTS book_author;")]),t._v(" "),n("p",[t._v("SHOW TABLES;")]),t._v(" "),n("h3",{attrs:{id:"_6-4-表的复制"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-表的复制"}},[t._v("#")]),t._v(" 6.4 表的复制")]),t._v(" "),n("p",[t._v("INSERT INTO author VALUES\n(1,'村上春树','日本'),\n(2,'莫言','中国'),\n(3,'冯唐','中国'),\n(4,'金庸','中国');")]),t._v(" "),n("p",[t._v("SELECT * FROM Author;\nSELECT * FROM copy2;")]),t._v(" "),n("ol",[n("li",[t._v("仅仅复制表的结构")])]),t._v(" "),n("p",[t._v("CREATE TABLE copy LIKE author;")]),t._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[t._v("复制表的结构+数据")])]),t._v(" "),n("p",[t._v("CREATE TABLE copy2\nSELECT * FROM author;")]),t._v(" "),n("ol",{attrs:{start:"3"}},[n("li",[t._v("只复制部分数据")])]),t._v(" "),n("p",[t._v("CREATE TABLE copy3\nSELECT id,au_name\nFROM author\nWHERE nation='中国';")]),t._v(" "),n("ol",{attrs:{start:"4"}},[n("li",[t._v("仅仅复制某些字段")])]),t._v(" "),n("p",[t._v("CREATE TABLE copy4\nSELECT id,au_name\nFROM author\nWHERE 0;")]),t._v(" "),n("h2",{attrs:{id:"_7-数据类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-数据类型"}},[t._v("#")]),t._v(" 7 数据类型")]),t._v(" "),n("h3",{attrs:{id:"_7-1-整型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-整型"}},[t._v("#")]),t._v(" 7.1 整型")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("整数类型")]),t._v(" "),n("th",[t._v("字节")]),t._v(" "),n("th",[t._v("范围")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("Tinyint")]),t._v(" "),n("td",[t._v("1")]),t._v(" "),n("td",[t._v("有符号： -128~127 无符号： 0~255")])]),t._v(" "),n("tr",[n("td",[t._v("Smallint")]),t._v(" "),n("td",[t._v("2")]),t._v(" "),n("td",[t._v("有符号： -32768~32767 无符号： 0~65535")])]),t._v(" "),n("tr",[n("td",[t._v("Mediumint")]),t._v(" "),n("td",[t._v("3")]),t._v(" "),n("td",[t._v("有符号： -8388608~8388607 "),n("br"),t._v("无符号： 0~1677215")])]),t._v(" "),n("tr",[n("td",[t._v("Int、 integer")]),t._v(" "),n("td",[t._v("4")]),t._v(" "),n("td",[t._v("有符号： - 2147483648~2147483647 "),n("br"),t._v("无符号： 0~4294967295")])]),t._v(" "),n("tr",[n("td",[t._v("Bigint")]),t._v(" "),n("td",[t._v("8")]),t._v(" "),n("td",[t._v("有符号： -9223372036854775808 ~9223372036854775807"),n("br"),t._v(" 无符号： 0~ 9223372036854775807*2+1")])])])]),t._v(" "),n("p",[t._v("特点：")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("如果不设置无符号还是有符号，默认是有符号，如果想设置无符号，需要添加unsigned关键字")])]),t._v(" "),n("li",[n("p",[t._v("如果插入的数值超出了整型的范围,会报out of range异常，并且插入临界值")])]),t._v(" "),n("li",[n("p",[t._v("如果不设置长度，会有默认的长度")])]),t._v(" "),n("li",[n("p",[t._v("长度代表了显示的最大宽度，如果不够会用0在左边填充，但必须搭配zerofill使用！")]),t._v(" "),n("p",[t._v("小数：\n浮点型\n定点型\n字符型：\n日期型：\nBlob类型：")])])]),t._v(" "),n("h3",{attrs:{id:"_7-2-小数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-小数"}},[t._v("#")]),t._v(" 7.2 小数")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("浮点数类型")]),t._v(" "),n("th",[t._v("字节")]),t._v(" "),n("th",[t._v("范围")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("float")]),t._v(" "),n("td",[t._v("4")]),t._v(" "),n("td",[t._v("±1.75494351E-38~±3.402823466E+38")])]),t._v(" "),n("tr",[n("td",[t._v("double")]),t._v(" "),n("td",[t._v("8")]),t._v(" "),n("td",[t._v("±2.2250738585072014E-308~ ±1.7976931348623157E+308")])]),t._v(" "),n("tr",[n("td",[t._v("定点数类型")]),t._v(" "),n("td",[t._v("字节")]),t._v(" "),n("td",[t._v("范围")])]),t._v(" "),n("tr",[n("td",[t._v("DEC(M,D) DECIMAL(M,D)")]),t._v(" "),n("td",[t._v("M+2")]),t._v(" "),n("td",[t._v("最大取值范围与double相同， 给定decimal的有效取值范围由M和D 决定")])])])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("分类：\n1.浮点型\nfloat(M,D)\ndouble(M,D)\n2.定点型\ndec(M，D)\ndecimal(M,D)\n\n特点：\n\n①\nM：整数部位+小数部位\nD：小数部位\n如果超过范围，则插入临界值\n\n②\nM和D都可以省略\n如果是decimal，则M默认为10，D默认为0\n如果是float和double，则会根据插入的数值的精度来决定精度\n\n③定点型的精确度较高，如果要求插入数值的精度较高如货币运算等则考虑使用\n")])])]),n("h3",{attrs:{id:"_7-3-字符型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-字符型"}},[t._v("#")]),t._v(" 7.3 字符型")]),t._v(" "),n("p",[t._v("较短的文本：")]),t._v(" "),n("p",[t._v("char\nvarchar")]),t._v(" "),n("p",[t._v("其他：")]),t._v(" "),n("p",[t._v("binary和varbinary用于保存较短的二进制\nenum用于保存枚举\nset用于保存集合")]),t._v(" "),n("p",[t._v("较长的文本：\ntext\nblob(较大的二进制)")]),t._v(" "),n("p",[t._v("特点：")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("写法")]),t._v(" "),n("th",[t._v("M的意思")]),t._v(" "),n("th",[t._v("特点")]),t._v(" "),n("th",[t._v("空间的耗费")]),t._v(" "),n("th",[t._v("效率")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("char(M)")]),t._v(" "),n("td",[t._v("最大的字符数，可以省略，默认为1")]),t._v(" "),n("td",[t._v("固定长度的字符")]),t._v(" "),n("td",[t._v("比较耗费")]),t._v(" "),n("td",[t._v("高")])]),t._v(" "),n("tr",[n("td",[t._v("varchar(M)")]),t._v(" "),n("td",[t._v("最大的字符数，不可以省略")]),t._v(" "),n("td",[t._v("可变长度的字符")]),t._v(" "),n("td",[t._v("比较节省")]),t._v(" "),n("td",[t._v("低")])]),t._v(" "),n("tr",[n("td"),t._v(" "),n("td"),t._v(" "),n("td"),t._v(" "),n("td"),t._v(" "),n("td")])])]),t._v(" "),n("h3",{attrs:{id:"_7-4-日期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-日期"}},[t._v("#")]),t._v(" 7.4 日期")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("日期和时间类型")]),t._v(" "),n("th",[t._v("字节")]),t._v(" "),n("th",[t._v("最小值")]),t._v(" "),n("th",[t._v("最大值")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("date")]),t._v(" "),n("td",[t._v("4")]),t._v(" "),n("td",[t._v("1000-01-01")]),t._v(" "),n("td",[t._v("9999-12-31")])]),t._v(" "),n("tr",[n("td",[t._v("datetime")]),t._v(" "),n("td",[t._v("8")]),t._v(" "),n("td",[t._v("1000-01-01 00:00:00")]),t._v(" "),n("td",[t._v("9999-12-31 23:59:59")])]),t._v(" "),n("tr",[n("td",[t._v("timestamp")]),t._v(" "),n("td",[t._v("4")]),t._v(" "),n("td",[t._v("19700101080001")]),t._v(" "),n("td",[t._v("2038年的某个时刻")])]),t._v(" "),n("tr",[n("td",[t._v("time")]),t._v(" "),n("td",[t._v("3")]),t._v(" "),n("td",[t._v("-838:59:59")]),t._v(" "),n("td",[t._v("838:59:59")])]),t._v(" "),n("tr",[n("td",[t._v("year")]),t._v(" "),n("td",[t._v("1")]),t._v(" "),n("td",[t._v("1901")]),t._v(" "),n("td",[t._v("2155")])])])]),t._v(" "),n("p",[t._v("特点：")]),t._v(" "),n("ul",[n("li",[t._v("Timestamp支持的时间范围较小，取值范围：19700101080001——2038年的某个时间，Datetime的取值范围：1000-1-1 ——9999—12-31")]),t._v(" "),n("li",[t._v("imestamp和实际时区有关，更能反映实际的日期，而datetime则只能反映出插入时的当地时区")]),t._v(" "),n("li",[t._v("timestamp的属性受Mysql版本和SQLMode的影响很大")])]),t._v(" "),n("h2",{attrs:{id:"_8-数据库完整性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-数据库完整性"}},[t._v("#")]),t._v(" 8 数据库完整性")]),t._v(" "),n("p",[t._v("8.1 约束")]),t._v(" "),n("ul",[n("li",[t._v("为了保证数据的一致性和完整性， SQL规范以约\n束的方式对表数据进行额外的条件限制。")]),t._v(" "),n("li",[t._v("约束是表级的强制规定")]),t._v(" "),n("li",[t._v("可以在创建表时规定约束（通过 CREATE\nTABLE 语句），或者在表创建之后也可以（通\n过 ALTER TABLE 语句）")])]),t._v(" "),n("p",[t._v("有以下六种约束:\n– NOT NULL 非空约束，规定某个字段不能为空\n– UNIQUE 唯一约束，规定某个字段在整个表中是唯一的\n– PRIMARY KEY 主键(非空且唯一)\n– FOREIGN KEY 外键\n– CHECK 检查约束\n– DEFAULT 默认值")]),t._v(" "),n("p",[t._v("约束的添加分类：\n列级约束：\n六大约束语法上都支持，但外键约束没有效果")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("表级约束：\n\t\n\t除了非空、默认，其他的都支持\n")])])]),n("p",[t._v("​\t\t\n主键和唯一的大对比：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("保证唯一性  是否允许为空    一个表中可以有多少个   是否允许组合\n主键\t√\t\t×\t\t     至多有1个           √，但不推荐\n唯一\t√\t\t√\t\t     可以有多个          √，但不推荐\n")])])]),n("p",[t._v("外键：\n1、要求在从表设置外键关系\n2、从表的外键列的类型和主表的关联列的类型要求一致或兼容，名称无要求\n3、主表的关联列必须是一个key（一般是主键或唯一）\n4、插入数据时，先插入主表，再插入从表\n删除数据时，先删除从表，再删除主表")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("#二、修改表时添加约束\n\n/*\n1、添加列级约束\nalter table 表名 modify column 字段名 字段类型 新约束;\n\n2、添加表级约束\nalter table 表名 add 【constraint 约束名】 约束类型(字段名) 【外键的引用】;\n\n\n*/\nDROP TABLE IF EXISTS stuinfo;\nCREATE TABLE stuinfo(\n\tid INT,\n\tstuname VARCHAR(20),\n\tgender CHAR(1),\n\tseat INT,\n\tage INT,\n\tmajorid INT\n)\nDESC stuinfo;\n#1.添加非空约束\nALTER TABLE stuinfo MODIFY COLUMN stuname VARCHAR(20)  NOT NULL;\n#2.添加默认约束\nALTER TABLE stuinfo MODIFY COLUMN age INT DEFAULT 18;\n#3.添加主键\n#①列级约束\nALTER TABLE stuinfo MODIFY COLUMN id INT PRIMARY KEY;\n#②表级约束\nALTER TABLE stuinfo ADD PRIMARY KEY(id);\n\n#4.添加唯一\n\n#①列级约束\nALTER TABLE stuinfo MODIFY COLUMN seat INT UNIQUE;\n#②表级约束\nALTER TABLE stuinfo ADD UNIQUE(seat);\n\n\n#5.添加外键\nALTER TABLE stuinfo ADD CONSTRAINT fk_stuinfo_major FOREIGN KEY(majorid) REFERENCES major(id); \n\n#三、修改表时删除约束\n\n#1.删除非空约束\nALTER TABLE stuinfo MODIFY COLUMN stuname VARCHAR(20) NULL;\n\n#2.删除默认约束\nALTER TABLE stuinfo MODIFY COLUMN age INT ;\n\n#3.删除主键\nALTER TABLE stuinfo DROP PRIMARY KEY;\n\n#4.删除唯一\nALTER TABLE stuinfo DROP INDEX seat;\n\n#5.删除外键\nALTER TABLE stuinfo DROP FOREIGN KEY fk_stuinfo_major;\n\nSHOW INDEX FROM stuinfo;\n")])])]),n("p",[t._v("###8.2 标识列\n又称为自增长列\n含义：可以不用手动的插入值，系统提供默认的序列值")]),t._v(" "),n("p",[t._v("特点：\n1、标识列必须和主键搭配吗？不一定，但要求是一个key\n2、一个表可以有几个标识列？至多一个！\n3、标识列的类型只能是数值型\n4、标识列可以通过 SET auto_increment_increment=3;设置步长\n可以通过 手动插入值，设置起始值")]),t._v(" "),n("h2",{attrs:{id:"_9-事务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-事务"}},[t._v("#")]),t._v(" 9 事务")]),t._v(" "),n("h3",{attrs:{id:"_9-1-定义"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-定义"}},[t._v("#")]),t._v(" 9.1  定义")]),t._v(" "),n("p",[t._v("事务由单独单元的一个或多个SQL语句组成，这个执行单元要么全部执行，要么全部不执行。")]),t._v(" "),n("p",[t._v("MySQL引擎：")]),t._v(" "),n("p",[t._v("1、概念：在mysql中的数据用各种不同的技术存储在文件（或内存）中。\n2、通过show engines；来查看mysql支持的存储引擎。\n3、 在mysql中用的最多的存储引擎有： innodb，myisam ,memory 等。其中innodb支持事务，而myisam、 memory等不支持事务")]),t._v(" "),n("p",[t._v("案例：转账")]),t._v(" "),n("p",[t._v("张三丰  1000\n郭襄\t1000")]),t._v(" "),n("p",[t._v("update 表 set 张三丰的余额=500 where name='张三丰'\n意外\nupdate 表 set 郭襄的余额=1500 where name='郭襄'")]),t._v(" "),n("p",[n("strong",[t._v("示例")])]),t._v(" "),n("div",{staticClass:"language-SQL extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" account "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\tid "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tNAME "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VARCHAR")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tbalance "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DOUBLE")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 添加数据")]),t._v("\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INSERT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INTO")]),t._v(" account "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NAME"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" balance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VALUES")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zhangsan'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lisi'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\n\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" account"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UPDATE")]),t._v(" account "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" balance "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 张三给李四转账 500 元")]),t._v("\n\t\t\n\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 0. 开启事务")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("START")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TRANSACTION")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 1. 张三账户 -500")]),t._v("\n\t\t\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UPDATE")]),t._v(" account "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" balance "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" balance "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" NAME "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zhangsan'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 2. 李四账户 +500")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 出错了...")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("UPDATE")]),t._v(" account "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" balance "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" balance "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" NAME "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lisi'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\n\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 发现执行没有问题，提交事务")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMIT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t\n\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 发现出问题了，回滚事务")]),t._v("\n\t\t"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ROLLBACK")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"_9-2-特性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-特性"}},[t._v("#")]),t._v(" 9.2  特性")]),t._v(" "),n("ol",[n("li",[t._v("原子性（Atomicity）\n原子性是指事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生。")]),t._v(" "),n("li",[t._v("一致性（Consistency）\n事务必须使数据库从一个一致性状态变换到另外一个一致性状态。")]),t._v(" "),n("li",[t._v("隔离性（Isolation）\n事务的隔离性是指一个事务的执行不能被其他事务干扰，即一个事务内部的操作及使用的数据对并发的其他事务是隔离的，并发执行的各个事务之间不能互相干扰。")]),t._v(" "),n("li",[t._v("持久性（Durability）\n持久性是指一个事务一旦被提交，它对数据库中数据的改变就是永久性的，接下来的其他操作和数据库故障不应该对其有任何影响")])]),t._v(" "),n("h3",{attrs:{id:"_9-3-开启事务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-开启事务"}},[t._v("#")]),t._v(" 9.3 开启事务")]),t._v(" "),n("p",[n("strong",[t._v("事务的创建")]),t._v("\n隐式事务：事务没有明显的开启和结束的标记\n比如insert、update、delete语句")]),t._v(" "),n("p",[t._v("delete from 表 where id =1;")]),t._v(" "),n("p",[t._v("显式事务：事务具有明显的开启和结束的标记\n前提：必须先设置自动提交功能为禁用")]),t._v(" "),n("p",[t._v("set autocommit=0;")]),t._v(" "),n("p",[t._v("步骤1：开启事务\nset autocommit=0;\nstart transaction;可选的\n步骤2：编写事务中的sql语句(select insert update delete)\n语句1;\n语句2;\n...")]),t._v(" "),n("p",[t._v("步骤3：结束事务\ncommit;提交事务\nrollback;回滚事务")]),t._v(" "),n("h3",{attrs:{id:"_9-4-事务的隔离"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-4-事务的隔离"}},[t._v("#")]),t._v(" 9.4 事务的隔离")]),t._v(" "),n("p",[t._v("对于同时运行的多个事务, 当这些事务访问数据库中相同的数据时, 如果没有采取必要的隔离机制, 就会导致各种并发问题:")]),t._v(" "),n("ul",[n("li",[t._v("脏读: 对于两个事务 T1, T2, T1 读取了已经被 T2 更新但还没有被提交的字段.\n之后, 若 T2 回滚, T1读取的内容就是临时且无效的.")]),t._v(" "),n("li",[t._v("不可重复读: 对于两个事务T1, T2, T1 读取了一个字段, 然后 T2 更新了该字段.\n之后, T1再次读取同一个字段, 值就不同了.")]),t._v(" "),n("li",[t._v("幻读: 对于两个事务T1, T2, T1 从一个表中读取了一个字段, 然后 T2 在该表中插\n入了一些新的行. 之后, 如果 T1 再次读取同一个表, 就会多出几行.")])]),t._v(" "),n("p",[t._v("数据库事务的隔离性:")]),t._v(" "),n("p",[t._v("数据库系统必须具有隔离并发运行各个事务的能力,使它们不会相互影响, 避免各种并发问题.\n一个事务与其他事务隔离的程度称为隔离级别. 数据库规定了多种事务隔离级别, 不同隔离级别对应不同的干扰程度, 隔离级别越高, 数据一致性就越好, 但并发性越弱.")]),t._v(" "),n("p",[n("strong",[t._v("事务的隔离级别")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("\t\t               脏读\t\t不可重复读\t幻读\nread uncommitted：       √\t\t     √\t\t√\nread committed：         ×\t\t     √\t\t√\nrepeatable read：        ×\t\t     ×\t\t√\nserializable\t         ×            ×      ×\n\n")])])]),n("p",[t._v("mysql中默认 第三个隔离级别 repeatable read\noracle中默认第二个隔离级别 read committed\n查看隔离级别\nselect @@tx_isolation;\n设置隔离级别\nset session|global transaction isolation level 隔离级别;")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("演示：\nset global transaction isolation level read uncommitted;\nstart transaction;\n-- 转账操作\nupdate account set balance = balance - 500 where id = 1;\nupdate account set balance = balance + 500 where id = 2;\n")])])]),n("h2",{attrs:{id:"_10-视图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_10-视图"}},[t._v("#")]),t._v(" 10 视图")]),t._v(" "),n("h3",{attrs:{id:"_10-1-定义"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_10-1-定义"}},[t._v("#")]),t._v(" 10.1 定义")]),t._v(" "),n("p",[t._v("MySQL从5.0.1版本开始提供视图功能。一种虚拟存在的表，行和列的数据来自定义视图的查询中使用的表\n，并且是在使用视图时动态生成的， 只保存了sql逻辑，不保存查询结果")]),t._v(" "),n("p",[t._v("应用场景：\n– 多个地方用到同样的查询结果\n– 该查询结果使用的sql语句较复杂\n• 示例：")]),t._v(" "),n("div",{staticClass:"language-SQL extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VIEW")]),t._v(" my_v1\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SELECT")]),t._v(" studentname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("majorname\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" student s\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("INNER")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" major m\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ON")]),t._v(" s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("majorid"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("m"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("majorid\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("majorid"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])])]),n("h3",{attrs:{id:"_10-2-视图操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_10-2-视图操作"}},[t._v("#")]),t._v(" 10.2 视图操作")]),t._v(" "),n("ol",[n("li",[t._v("创建视图的语法：\ncreate [or replace] view view_name\nAs select_statement\n[with|cascaded|local|check option]")]),t._v(" "),n("li",[t._v("修改视图的语法：\nalter view view_name\nAs select_statement\n[with|cascaded|local|check option]")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("视图的可更新性和视图中查询的定义有关系，以下类型的\n视图是不能更新的。\n• 包含以下关键字的sql语句：分组函数、 distinct、 group by\n、 having、 union或者union all\n• 常量视图\n• Select中包含子查询\n• join\n• from一个不能更新的视图\n• where子句的子查询引用了from子句中的表\n")])])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("删除视图的语法：\n用户可以一次删除一个或者多个视图，前提是必须有该视\n图的drop权限。\ndrop view [if exists] view_name,view_name …[restrict|cascade]")]),t._v(" "),n("li",[t._v("查看视图的语法：\nshow tables;\n如果需要查询某个视图的定义，可以使用show create view\n命令进行查看：\nshow create view view_name \\G")])]),t._v(" "),n("h3",{attrs:{id:"_10-3-好处"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_10-3-好处"}},[t._v("#")]),t._v(" 10.3 好处")]),t._v(" "),n("ul",[n("li",[t._v("重用sql语句")]),t._v(" "),n("li",[t._v("简化复杂的sql操作，不必知道它的查询细节")]),t._v(" "),n("li",[t._v("保护数据，提高安全性")])]),t._v(" "),n("h3",{attrs:{id:"_10-4-视图和表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_10-4-视图和表"}},[t._v("#")]),t._v(" 10.4 视图和表")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("含义：虚拟表，和普通表一样使用\nmysql5.1版本出现的新特性，是通过表动态生成的数据\n\n视图\tcreate view\t\t只是保存了sql逻辑\t增删改查，只是一般不能增删改\n\n表\tcreate table\t\t保存了数据\t\t增删改查\n\n")])])]),n("h2",{attrs:{id:"_11-变量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_11-变量"}},[t._v("#")]),t._v(" 11 变量")]),t._v(" "),n("p",[t._v("###11.1 变量分类")]),t._v(" "),n("p",[t._v("系统变量：\n全局变量\n会话变量")]),t._v(" "),n("p",[t._v("自定义变量：\n用户变量\n局部变量")]),t._v(" "),n("p",[n("strong",[t._v("系统变量")]),t._v("\n说明：变量由系统定义，不是用户定义，属于服务器层面\n注意：全局变量需要添加global关键字，会话变量需要添加session关键字，如果不写，默认会话级别\n使用步骤：\n1、查看所有系统变量\nshow global|【session】variables;\n2、查看满足条件的部分系统变量\nshow global|【session】 variables like '%char%';\n3、查看指定的系统变量的值\nselect @@global|【session】系统变量名;\n4、为某个系统变量赋值\n方式一：\nset global|【session】系统变量名=值;\n方式二：\nset @@global|【session】系统变量名=值;")]),t._v(" "),n("p",[t._v("###11.2 全局变量")]),t._v(" "),n("p",[t._v("作用域：针对于所有会话（连接）有效，但不能跨重启\n想要重启的配置依旧生效，需要修改配置文件")]),t._v(" "),n("p",[t._v("①查看所有全局变量")]),t._v(" "),n("p",[t._v("SHOW GLOBAL VARIABLES;")]),t._v(" "),n("p",[t._v("②查看满足条件的部分系统变量")]),t._v(" "),n("p",[t._v("SHOW GLOBAL VARIABLES LIKE '%char%';")]),t._v(" "),n("p",[t._v("③查看指定的系统变量的值")]),t._v(" "),n("p",[t._v("SELECT @@global.autocommit;")]),t._v(" "),n("p",[t._v("④为某个系统变量赋值")]),t._v(" "),n("p",[t._v("SET @@global.autocommit=0;\nSET GLOBAL autocommit=0;")]),t._v(" "),n("p",[t._v("###11.3 会话变量")]),t._v(" "),n("p",[t._v("作用域：针对于当前会话（连接）有效")]),t._v(" "),n("p",[t._v("①查看所有会话变量")]),t._v(" "),n("p",[t._v("SHOW SESSION VARIABLES;")]),t._v(" "),n("p",[t._v("②查看满足条件的部分会话变量")]),t._v(" "),n("p",[t._v("SHOW SESSION VARIABLES LIKE '%char%';")]),t._v(" "),n("p",[t._v("③查看指定的会话变量的值")]),t._v(" "),n("p",[t._v("SELECT @@autocommit;\nSELECT @@session.tx_isolation;")]),t._v(" "),n("p",[t._v("④为某个会话变量赋值")]),t._v(" "),n("p",[t._v("SET @@session.tx_isolation='read-uncommitted';\nSET SESSION tx_isolation='read-committed';")]),t._v(" "),n("p",[t._v("###11.4 自定义变量\n说明：变量由用户自定义，而不是系统提供的\n使用步骤：\n1、声明\n2、赋值\n3、使用（查看、比较、运算等）")]),t._v(" "),n("p",[t._v("1》用户变量")]),t._v(" "),n("p",[t._v("/*\n作用域：针对于当前会话（连接）有效，作用域同于会话变量\n*/")]),t._v(" "),n("p",[t._v("赋值操作符：=或:=")]),t._v(" "),n("p",[t._v("①声明并初始化")]),t._v(" "),n("p",[t._v("SET @变量名=值;\nSET @变量名:=值;\nSELECT @变量名:=值;")]),t._v(" "),n("p",[t._v("②赋值（更新变量的值）")]),t._v(" "),n("p",[t._v("方式一：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("SET @变量名=值;\nSET @变量名:=值;\nSELECT @变量名:=值;\n")])])]),n("p",[t._v("方式二：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("SELECT 字段 INTO @变量名\nFROM 表;\n")])])]),n("p",[t._v("③使用（查看变量的值）")]),t._v(" "),n("p",[t._v("SELECT @变量名;")]),t._v(" "),n("p",[t._v("2》局部变量")]),t._v(" "),n("p",[t._v("/*\n作用域：仅仅在定义它的begin end块中有效\n应用在 begin end中的第一句话\n*/")]),t._v(" "),n("p",[t._v("①声明")]),t._v(" "),n("p",[t._v("DECLARE 变量名 类型;\nDECLARE 变量名 类型 【DEFAULT 值】;")]),t._v(" "),n("p",[t._v("②赋值（更新变量的值）")]),t._v(" "),n("p",[t._v("方式一：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("SET 局部变量名=值;\nSET 局部变量名:=值;\nSELECT 局部变量名:=值;\n")])])]),n("p",[t._v("方式二：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("SELECT 字段 INTO 具备变量名\nFROM 表;\n")])])]),n("p",[t._v("③使用（查看变量的值）")]),t._v(" "),n("p",[t._v("SELECT 局部变量名;")]),t._v(" "),n("p",[t._v("案例：声明两个变量，求和并打印")]),t._v(" "),n("p",[t._v("用户变量")]),t._v(" "),n("p",[t._v("SET @m=1;\nSET @n=1;\nSET @sum=@m+@n;\nSELECT @sum;")]),t._v(" "),n("p",[t._v("局部变量")]),t._v(" "),n("p",[t._v("DECLARE m INT DEFAULT 1;\nDECLARE n INT DEFAULT 1;\nDECLARE SUM INT;\nSET SUM=m+n;\nSELECT SUM;")]),t._v(" "),n("p",[t._v("用户变量和局部变量的对比")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("\t作用域\t\t\t定义位置\t\t语法\n")])])]),n("p",[t._v("用户变量\t当前会话\t\t会话的任何地方\t\t加@符号，不用指定类型\n局部变量\t定义它的BEGIN END中 \tBEGIN END的第一句话\t一般不用加@,需要指定类型")]),t._v(" "),n("h2",{attrs:{id:"_12-存储过程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-存储过程"}},[t._v("#")]),t._v(" 12 存储过程")]),t._v(" "),n("h3",{attrs:{id:"_12-1-定义"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-1-定义"}},[t._v("#")]),t._v(" 12.1 定义")]),t._v(" "),n("p",[t._v("含义：一组经过预先编译的sql语句的集合\n好处：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("1、提高了sql语句的重用性，减少了开发程序员的压力\n2、提高了效率\n3、减少了传输次数\n")])])]),n("p",[t._v("分类：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("1、无返回无参\n2、仅仅带in类型，无返回有参\n3、仅仅带out类型，有返回无参\n4、既带in又带out，有返回有参\n5、带inout，有返回有参\n注意：in、out、inout都可以在一个存储过程中带多个\n")])])]),n("h3",{attrs:{id:"_12-2-创建存储过程"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_12-2-创建存储过程"}},[t._v("#")]),t._v(" 12.2 创建存储过程")]),t._v(" "),n("p",[t._v("语法：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("create procedure 存储过程名(in|out|inout 参数名  参数类型,...)\nbegin\n\t存储过程体\n\nend\n")])])]),n("p",[t._v("类似于方法：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("修饰符 返回类型 方法名(参数类型 参数名,...){\n\n\t方法体;\n}\n")])])]),n("p",[t._v("注意")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("1、需要设置新的结束标记\ndelimiter 新的结束标记\n示例：\ndelimiter $\n\nCREATE PROCEDURE 存储过程名(IN|OUT|INOUT 参数名  参数类型,...)\nBEGIN\n\tsql语句1;\n\tsql语句2;\n\nEND $\n\n2、存储过程体中可以有多条sql语句，如果仅仅一条sql语句，则可以省略begin end\n\n3、参数前面的符号的意思\nin:该参数只能作为输入 （该参数不能做返回值）\nout：该参数只能作为输出（该参数只能做返回值）\ninout：既能做输入又能做输出\n")])])]),n("p",[t._v("调用存储过程")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("call 存储过程名(实参列表)\n")])])]),n("h2",{attrs:{id:"_13-函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_13-函数"}},[t._v("#")]),t._v(" 13 函数")]),t._v(" "),n("h3",{attrs:{id:"_13-1-创建函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_13-1-创建函数"}},[t._v("#")]),t._v(" 13.1 创建函数")]),t._v(" "),n("p",[t._v("学过的函数：LENGTH、SUBSTR、CONCAT等\n语法：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("CREATE FUNCTION 函数名(参数名 参数类型,...) RETURNS 返回类型\nBEGIN\n\t函数体\n\nEND\n")])])]),n("h3",{attrs:{id:"_13-2-调用函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_13-2-调用函数"}},[t._v("#")]),t._v(" 13.2 调用函数")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("SELECT 函数名（实参列表\n")])])]),n("h3",{attrs:{id:"函数和存储过程的区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#函数和存储过程的区别"}},[t._v("#")]),t._v(" 函数和存储过程的区别")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("\t\t关键字\t\t调用语法\t返回值\t\t\t应用场景\n函数\t\tFUNCTION\tSELECT 函数()\t只能是一个\t\t一般用于查询结果为一个值并返回时，当有返回值而且仅仅一个\n存储过程\tPROCEDURE\tCALL 存储过程()\t可以有0个或多个\t\t一般用于更新\n")])])]),n("h2",{attrs:{id:"_14-流程控制结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_14-流程控制结构"}},[t._v("#")]),t._v(" 14 流程控制结构")]),t._v(" "),n("h2",{attrs:{id:"_15-数据库设计"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_15-数据库设计"}},[t._v("#")]),t._v(" 15 数据库设计")]),t._v(" "),n("h3",{attrs:{id:"_15-1-表的关系"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_15-1-表的关系"}},[t._v("#")]),t._v(" 15.1 表的关系")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("多表之间的关系")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("分类：")]),t._v(" "),n("ol",[n("li",[t._v("一对一(了解)：\n"),n("ul",[n("li",[t._v("如：人和身份证")]),t._v(" "),n("li",[t._v("分析：一个人只有一个身份证，一个身份证只能对应一个人")])])]),t._v(" "),n("li",[t._v("一对多(多对一)：\n"),n("ul",[n("li",[t._v("如：部门和员工")]),t._v(" "),n("li",[t._v("分析：一个部门有多个员工，一个员工只能对应一个部门")])])]),t._v(" "),n("li",[t._v("多对多：\n"),n("ul",[n("li",[t._v("如：学生和课程")]),t._v(" "),n("li",[t._v("分析：一个学生可以选择很多门课程，一个课程也可以被很多学生选择")])])])])]),t._v(" "),n("li",[n("p",[t._v("实现关系：")]),t._v(" "),n("ol",[n("li",[t._v("一对多(多对一)：\n"),n("ul",[n("li",[t._v("如：部门和员工")]),t._v(" "),n("li",[t._v("实现方式：在多的一方建立外键，指向一的一方的主键。")])])]),t._v(" "),n("li",[t._v("多对多：\n"),n("ul",[n("li",[t._v("如：学生和课程")]),t._v(" "),n("li",[t._v("实现方式：多对多关系实现需要借助第三张中间表。中间表至少包含两个字段，这两个字段作为第三张表的外键，分别指向两张表的主键")])])]),t._v(" "),n("li",[t._v("一对一(了解)：\n"),n("ul",[n("li",[t._v("如：人和身份证")]),t._v(" "),n("li",[t._v("实现方式：一对一关系实现，可以在任意一方添加唯一外键指向另一方的主键。")])])])])]),t._v(" "),n("li",[n("p",[t._v("案例\n-- 创建旅游线路分类表 tab_category\n-- cid 旅游线路分类主键，自动增长\n-- cname 旅游线路分类名称非空，唯一，字符串 100\nCREATE TABLE tab_category (\ncid INT PRIMARY KEY AUTO_INCREMENT,\ncname VARCHAR(100) NOT NULL UNIQUE\n);")]),t._v(" "),n("p",[t._v("-- 创建旅游线路表 tab_route\n/*\nrid 旅游线路主键，自动增长\nrname 旅游线路名称非空，唯一，字符串 100\nprice 价格\nrdate 上架时间，日期类型\ncid 外键，所属分类\n*/\nCREATE TABLE tab_route(\nrid INT PRIMARY KEY AUTO_INCREMENT,\nrname VARCHAR(100) NOT NULL UNIQUE,\nprice DOUBLE,\nrdate DATE,\ncid INT,\nFOREIGN KEY (cid) REFERENCES tab_category(cid)\n);")]),t._v(" "),n("p",[t._v("/*创建用户表 tab_user\nuid 用户主键，自增长\nusername 用户名长度 100，唯一，非空\npassword 密码长度 30，非空\nname 真实姓名长度 100\nbirthday 生日\nsex 性别，定长字符串 1\ntelephone 手机号，字符串 11\nemail 邮箱，字符串长度 100\n*/\nCREATE TABLE tab_user (\nuid INT PRIMARY KEY AUTO_INCREMENT,\nusername VARCHAR(100) UNIQUE NOT NULL,\nPASSWORD VARCHAR(30) NOT NULL,\nNAME VARCHAR(100),\nbirthday DATE,\nsex CHAR(1) DEFAULT '男',\ntelephone VARCHAR(11),\nemail VARCHAR(100)\n);")]),t._v(" "),n("p",[t._v("/*\n创建收藏表 tab_favorite\nrid 旅游线路 id，外键\ndate 收藏时间\nuid 用户 id，外键\nrid 和 uid 不能重复，设置复合主键，同一个用户不能收藏同一个线路两次\n*/\nCREATE TABLE tab_favorite (\nrid INT, -- 线路id\nDATE DATETIME,\nuid INT, -- 用户id\n-- 创建复合主键\nPRIMARY KEY(rid,uid), -- 联合主键\nFOREIGN KEY (rid) REFERENCES tab_route(rid),\nFOREIGN KEY(uid) REFERENCES tab_user(uid)\n);")])])])])]),t._v(" "),n("h3",{attrs:{id:"_15-2-数据库设计的范式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_15-2-数据库设计的范式"}},[t._v("#")]),t._v(" 15.2 数据库设计的范式")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("概念：设计数据库时，需要遵循的一些规范。要遵循后边的范式要求，必须先遵循前边的所有范式要求")]),t._v(" "),n("p",[t._v("设计关系数据库时，遵从不同的规范要求，设计出合理的关系型数据库，这些不同的规范要求被称为不同的范式，各种范式呈递次规范，越高的范式数据库冗余越小。\n目前关系数据库有六种范式：第一范式（1NF）、第二范式（2NF）、第三范式（3NF）、巴斯-科德范式（BCNF）、第四范式(4NF）和第五范式（5NF，又称完美范式）。")])]),t._v(" "),n("li",[n("p",[t._v("分类：")]),t._v(" "),n("ol",[n("li",[n("p",[t._v("第一范式（1NF）：每一列都是不可分割的原子数据项")])]),t._v(" "),n("li",[n("p",[t._v("第二范式（2NF）：在1NF的基础上，非码属性必须完全依赖于码（在1NF基础上消除非主属性对主码的部分函数依赖）")]),t._v(" "),n("ul",[n("li",[t._v("几个概念：\n"),n("ol",[n("li",[t._v("函数依赖：A--\x3eB,如果通过A属性(属性组)的值，可以确定唯一B属性的值。则称B依赖于A\n例如：学号--\x3e姓名。  （学号，课程名称） --\x3e 分数")]),t._v(" "),n("li",[t._v("完全函数依赖：A--\x3eB， 如果A是一个属性组，则B属性值得确定需要依赖于A属性组中所有的属性值。\n例如：（学号，课程名称） --\x3e 分数")]),t._v(" "),n("li",[t._v("部分函数依赖：A--\x3eB， 如果A是一个属性组，则B属性值得确定只需要依赖于A属性组中某一些值即可。\n例如：（学号，课程名称） -- > 姓名")]),t._v(" "),n("li",[t._v("传递函数依赖：A--\x3eB, B -- >C . 如果通过A属性(属性组)的值，可以确定唯一B属性的值，在通过B属性（属性组）的值可以确定唯一C属性的值，则称 C 传递函数依赖于A\n例如：学号--\x3e系名，系名--\x3e系主任")]),t._v(" "),n("li",[t._v("码：如果在一张表中，一个属性或属性组，被其他所有属性所完全依赖，则称这个属性(属性组)为该表的码\n例如：该表中码为：（学号，课程名称）\n"),n("ul",[n("li",[t._v("主属性：码属性组中的所有属性")]),t._v(" "),n("li",[t._v("非主属性：除过码属性组的属性")])])])])])])]),t._v(" "),n("li",[n("p",[t._v("第三范式（3NF）：在2NF基础上，任何非主属性不依赖于其它非主属性（在2NF基础上消除传递依赖）")])])])])]),t._v(" "),n("p",[t._v("8 数据库的备份和还原")]),t._v(" "),n("ol",[n("li",[t._v("命令行：\n"),n("ul",[n("li",[t._v("语法：\n"),n("ul",[n("li",[t._v("备份： mysqldump -u用户名 -p密码 数据库名称 > 保存的路径")]),t._v(" "),n("li",[t._v("还原：\n"),n("ol",[n("li",[t._v("登录数据库")]),t._v(" "),n("li",[t._v("创建数据库")]),t._v(" "),n("li",[t._v("使用数据库")]),t._v(" "),n("li",[t._v("执行文件。source 文件路径")])])])])])])]),t._v(" "),n("li",[t._v("图形化工具：")])])])}),[],!1,null,null,null);a.default=e.exports}}]);